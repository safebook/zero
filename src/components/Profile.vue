<template>
  <div>
    <h3>Public Key</h3>
    <div>
      {{encodedPubkey}}</div>
    <h3>Private Key</h3>
    <div v-if="!showPrivKey">
      <p><a href @click.prevent="showPrivKey = true">Show</a></p>
    </div>
    <div v-if="showPrivKey">
      <p>{{encodedPrivkey}}</p>
      <p><a href @click.prevent="showPrivKey = false">Hide</a></p>
    </div>
  </div>
</template>

<script>
import base58 from 'bs58'

export default {
  name: 'Profile',
  props: ['pubkey', 'seckey'],
  data () {
    return {
      showPrivKey: false
    }
  },
  computed: {
    encodedPubkey () {
      if (this.pubkey) {
        return base58.encode(Buffer.from(sjcl.codec.bytes.fromBits(this.pubkey)))
      } else {
        return '(null)'
      }
    },
    encodedPrivkey () {
      if (this.seckey) {
        return base58.encode(Buffer.from(sjcl.codec.bytes.fromBits(this.seckey.toBits())))
      } else {
        return '(null)'
      }
    }
  }
}
</script>

<style scoped>
 h3 {
   font-size: 1.2rem;
 }
 div {
   font-size: 0.9rem;
 }
</style>
